<ion-view class="payment-search-view">

<ion-nav-title>{{'payment-search.title' | translate}}</ion-nav-title>

  <!-- We need to wrap the entire header around a form so we can get the Go/Search key event by the submit directive -->
  <ion-header-bar class="bar bar-subheader item-input-inset">
    <form class="full-width">
      <input class="full-width" placeholder="{{'payment-search.search' | translate}}" ng-model="paymentSearchCtrl.queryString" type="search" ng-model-options="{debounce: 500}" ion-auto-focus>
    </form>
    <button class="button icon button-clear ion-android-close" ng-hide="paymentSearchCtrl.isEmpty()" ng-click="paymentSearchCtrl.clear()"></button>
  </ion-header-bar>


  <ion-content class="padding">
    <ion-list>
      <ion-spinner ng-show="paymentSearchCtrl.suggesting"></ion-spinner>
      <div class="item item-avatar no-radius" ng-repeat="result in paymentSearchCtrl.results" ng-hide="paymentSearchCtrl.suggesting" ng-click="paymentSearchCtrl.navigateToPayments(result.key)">

        <dynamic-image url="result.image" ng-if="result.image" mode="SMALL"></dynamic-image>
        <div class="vertically-centered">{{result.description}}</div>
      </div>
    </ion-list>
  </ion-content>

</ion-view>
