<ion-view class="home-view">

  <ion-nav-title>{{'home.title' | translate}}</ion-nav-title>

  <ion-nav-buttons side="right">
    <comparator-summary></comparator-summary>
  </ion-nav-buttons>

  <ion-content>

    <div class="card">
      <div class="item item-divider item-text-wrap">
        <h2 class="text-center">{{'home.mainCategories' | translate}}</h2>
      </div>
      <div class="flex-container wrap" ng-if="homeCtrl.categories.length > 0">
        <div class="column" ng-repeat="cat in homeCtrl.categories">
          <div class="card card-category whitesmoke" ng-click="homeCtrl.navigate(cat)">
            <div class="item item-image item-icon-right">
              <img ng-src="{{cat.image.thumb}}" class="item"
                   ng-if="cat.image.thumb"/>
              <avatar-initials diameter="60" model="cat.name"
                               ng-if="!cat.image.thumb"></avatar-initials>
              <i class="icon ion-close-round" ng-click="homeCtrl.removeFromHome(cat.id)"
                 onclick="event.stopPropagation()"></i>

            </div>
            <p class="text-center truncate"> {{cat.name}} </p>
          </div>
        </div>
      </div>

      <div ng-if="homeCtrl.categories.length <= 0">
        <div class="big-icon flex-horizontal-center">
          <span class="ion-university"></span>
        </div>
        <div class="flex-horizontal-center text-center">
          <span>{{'home.hint' | translate}}</span>
        </div>
      </div>
    </div>



    <div class="row">
      <div class="col">
        <button class="button button-stable button-block" ng-click="homeCtrl.navigateToSearch()">
          <i class="ion-android-search"></i> {{"home.search" | translate}}
        </button>
      </div>
      <div class="col">
        <button class="button button-balanced button-block" ng-click="homeCtrl.navigateToCart()">
          <i class="ion-android-cart"></i> {{"home.cart" | translate}}
        </button>
      </div>
    </div>


  </ion-content>
  <qr-scanner-fab></qr-scanner-fab>

</ion-view>
